<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Automated Manuscript Tools • AutoScript</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Automated Manuscript Tools">
<meta name="description" content="Automated table generation and data cleaning tools for clinical research manuscripts.">
<meta property="og:description" content="Automated table generation and data cleaning tools for clinical research manuscripts.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">AutoScript</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/hongconsulting/AutoScript/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="autoscript">AutoScript<a class="anchor" aria-label="anchor" href="#autoscript"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>Automated table generation and data cleaning tools for clinical research manuscripts.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of AutoScript from <a href="https://github.com/hongconsulting/AutoScript" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"hongconsulting/AutoScript"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="id_1-baseline-characteristics-tables">1. Baseline characteristics tables<a class="anchor" aria-label="anchor" href="#id_1-baseline-characteristics-tables"></a>
</h2>
<p>Compared with <a href="https://github.com/kaz-yos/tableone?tab=readme-ov-file#similar-or-complementary-projects" class="external-link">other packages offering similar functionality</a>, <code>AutoScript</code> is built on the following principles:</p>
<ul>
<li><p>Fine-grained control through line-by-line construction and <code>subset.mask</code>.</p></li>
<li>
<p>Significance testing via modern regression methods rather than classical (often eponymous) hypothesis tests (<strong>note that significance testing of baseline characteristics is inappropriate for randomized groups and should be interpreted with caution for non-randomized groups</strong>):</p>
<ul>
<li><p>Classical tests are rarely indicated as regression methods generally perform the same function while providing additional capabilities. Using classical tests for baseline characteristics and regression methods for the main analyses results in a disjointed <em>Methods</em> section.</p></li>
<li><p>Non-parametric and “exact” methods are rarely indicated as they often needlessly sacrifice power; non-normality is usually better handled through mathematical transformation.</p></li>
</ul>
</li>
<li><p>Non-normality of continuous variables should be decided by the researcher rather than the data. Shapiro–Wilk and similar tests fail to detect non-normality in small samples while detecting clinically trivial non-normality in large samples; <em>statistical significance</em> depends on sample size and is distinct from <em>clinical significance</em>.</p></li>
</ul>
<div class="section level3">
<h3 id="example-veterans-administration-lung-cancer-study">Example: Veterans’ Administration lung cancer study<a class="anchor" aria-label="anchor" href="#example-veterans-administration-lung-cancer-study"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hongconsulting/AutoScript" class="external-link">AutoScript</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">survival</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/survival/man/veteran.html" class="external-link">veteran</a></span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.create.html">AS.basetable.create</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">trt</span> <span class="op">-</span> <span class="fl">1</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Control"</span>, <span class="st">"Experimental"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.linear.html">AS.basetable.linear</a></span><span class="op">(</span><span class="st">"Age (years), mean \u00b1 SD"</span>, <span class="va">data</span><span class="op">$</span><span class="va">age</span>, <span class="va">table1</span>, digits.fixed <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.loglinear.html">AS.basetable.loglinear</a></span><span class="op">(</span><span class="st">"Time from diagnosis"</span>, <span class="va">data</span><span class="op">$</span><span class="va">diagtime</span>, <span class="va">table1</span>, digits.fixed <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.blank.html">AS.basetable.blank</a></span><span class="op">(</span><span class="st">"(months), mean \u00b1 SD"</span>, <span class="va">table1</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.blank.html">AS.basetable.blank</a></span><span class="op">(</span><span class="st">"Histology:"</span>, <span class="va">table1</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.binary.html">AS.basetable.binary</a></span><span class="op">(</span><span class="st">"- Non-small cell, n (%)"</span>, <span class="va">data</span><span class="op">$</span><span class="va">celltype</span> <span class="op">!=</span> <span class="st">"smallcell"</span>, <span class="va">table1</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.binary.html">AS.basetable.binary</a></span><span class="op">(</span><span class="st">"  - Adenocarcinoma, n (%)"</span>, <span class="va">data</span><span class="op">$</span><span class="va">celltype</span> <span class="op">==</span> <span class="st">"adeno"</span>, <span class="va">table1</span>, </span>
<span>                              subset.mask <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">celltype</span> <span class="op">!=</span> <span class="st">"smallcell"</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.binary.html">AS.basetable.binary</a></span><span class="op">(</span><span class="st">"  - Squamous, n (%)"</span>, <span class="va">data</span><span class="op">$</span><span class="va">celltype</span> <span class="op">==</span> <span class="st">"squamous"</span>, <span class="va">table1</span>, </span>
<span>                              subset.mask <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">celltype</span> <span class="op">!=</span> <span class="st">"smallcell"</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.binary.html">AS.basetable.binary</a></span><span class="op">(</span><span class="st">"  - Large cell, n (%)"</span>, <span class="va">data</span><span class="op">$</span><span class="va">celltype</span> <span class="op">==</span> <span class="st">"large"</span>, <span class="va">table1</span>, </span>
<span>                              subset.mask <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">celltype</span> <span class="op">!=</span> <span class="st">"smallcell"</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.binary.html">AS.basetable.binary</a></span><span class="op">(</span><span class="st">"- Small cell, n (%)"</span>, <span class="va">data</span><span class="op">$</span><span class="va">celltype</span> <span class="op">==</span> <span class="st">"smallcell"</span>, <span class="va">table1</span>, </span>
<span>                              p.values <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">table1</span><span class="op">$</span><span class="va">table</span><span class="op">)</span></span>
<span><span class="co">#&gt;       [,1]                        [,2]          [,3]          [,4]           [,5]   </span></span>
<span><span class="co">#&gt;  [1,] "Name"                      "Total"       "Control"     "Experimental" "p"    </span></span>
<span><span class="co">#&gt;  [2,] ""                          "n = 137"     "n = 69"      "n = 68"       ""     </span></span>
<span><span class="co">#&gt;  [3,] "Age (years), mean ± SD"    "58.3 ± 10.5" "57.5 ± 10.8" "59.1 ± 10.3"  "0.37" </span></span>
<span><span class="co">#&gt;  [4,] "Time from diagnosis"       "5.8 ± 2.4"   "6.1 ± 2.3"   "5.5 ± 2.5"    "0.50" </span></span>
<span><span class="co">#&gt;  [5,] "(months), mean ± SD"       ""            ""            ""             ""     </span></span>
<span><span class="co">#&gt;  [6,] "Histology:"                ""            ""            ""             ""     </span></span>
<span><span class="co">#&gt;  [7,] "- Non-small cell, n (%)"   "89 (65%)"    "39 (57%)"    "50 (74%)"     "0.038"</span></span>
<span><span class="co">#&gt;  [8,] "  - Adenocarcinoma, n (%)" "27 (30%)"    "9 (23%)"     "18 (36%)"     "0.19" </span></span>
<span><span class="co">#&gt;  [9,] "  - Squamous, n (%)"       "35 (39%)"    "15 (38%)"    "20 (40%)"     "0.88" </span></span>
<span><span class="co">#&gt; [10,] "  - Large cell, n (%)"     "27 (30%)"    "15 (38%)"    "12 (24%)"     "0.14" </span></span>
<span><span class="co">#&gt; [11,] "- Small cell, n (%)"       "48 (35%)"    "30 (43%)"    "18 (26%)"     ""</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-ebird-sightings">Example: eBird sightings<a class="anchor" aria-label="anchor" href="#example-ebird-sightings"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hongconsulting/AutoScript" class="external-link">AutoScript</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cornelllabofornithology.github.io/auk/" class="external-link">auk</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/ebd-sample.txt"</span>, package <span class="op">=</span> <span class="st">"auk"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.delim</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"OBSERVATION.COUNT"</span>, <span class="st">"COUNTRY"</span>, <span class="st">"TIME.OBSERVATIONS.STARTED"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">OBSERVATION.COUNT</span> <span class="op">!=</span> <span class="st">"X"</span>,<span class="op">]</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">count</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">OBSERVATION.COUNT</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">TIME.OBSERVATIONS.STARTED</span>, <span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.create.html">AS.basetable.create</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">COUNTRY</span> <span class="op">==</span> <span class="st">"United States"</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Non-US"</span>, <span class="st">"US"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.HHMM.html">AS.basetable.HHMM</a></span><span class="op">(</span><span class="st">"Start time, mean \u00b1 SD"</span>, <span class="va">data</span><span class="op">$</span><span class="va">time</span>, <span class="va">table1</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.basetable.count.html">AS.basetable.count</a></span><span class="op">(</span><span class="st">"Count, n (mean)"</span>, <span class="va">data</span><span class="op">$</span><span class="va">count</span>, <span class="va">table1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">table1</span><span class="op">$</span><span class="va">table</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]                    [,2]            [,3]            [,4]            [,5]     </span></span>
<span><span class="co">#&gt; [1,] "Name"                  "Total"         "Non-US"        "US"            "p"      </span></span>
<span><span class="co">#&gt; [2,] ""                      "n = 367"       "n = 152"       "n = 215"       ""       </span></span>
<span><span class="co">#&gt; [3,] "Start time, mean ± SD" "08:54 ± 01:29" "08:29 ± 01:26" "09:12 ± 01:27" "&lt; 0.001"</span></span>
<span><span class="co">#&gt; [4,] "Count, n (mean)"       "1200 (3.27)"   "406 (2.67)"    "794 (3.69)"    "&lt; 0.001"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="id_2-regression-table-auto-formatting">2. Regression table auto-formatting<a class="anchor" aria-label="anchor" href="#id_2-regression-table-auto-formatting"></a>
</h2>
<div class="section level3">
<h3 id="example-cox-regression">Example: Cox regression<a class="anchor" aria-label="anchor" href="#example-cox-regression"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hongconsulting/AutoScript" class="external-link">AutoScript</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">survival</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/survival/man/veteran.html" class="external-link">veteran</a></span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">survival</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></span><span class="op">(</span><span class="fu">survival</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">status</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">trt</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/AS.format.html">AS.format</a></span><span class="op">(</span><span class="va">fit</span>, name <span class="op">=</span> <span class="st">"Treatment"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]        [,2]                  [,3]  </span></span>
<span><span class="co">#&gt; [1,] ""          "HR (95%CI)"          "p"   </span></span>
<span><span class="co">#&gt; [2,] "Treatment" "1.02 (0.71 to 1.45)" "0.92"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-heteroscedastic-linear-regression">Example: heteroscedastic linear regression<a class="anchor" aria-label="anchor" href="#example-heteroscedastic-linear-regression"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hongconsulting/AutoScript" class="external-link">AutoScript</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://svn.r-project.org/R-packages/trunk/nlme/" class="external-link">nlme</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">24601</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"X"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span><span class="op">)</span></span>
<span><span class="va">data0</span><span class="op">$</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="va">data0</span><span class="op">$</span><span class="va">X</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">data0</span><span class="op">$</span><span class="va">X</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">fit0</span> <span class="op">&lt;-</span> <span class="fu">nlme</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/nlme/man/gls.html" class="external-link">gls</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">X</span>, data <span class="op">=</span> <span class="va">data0</span>, weights <span class="op">=</span> <span class="fu">nlme</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/nlme/man/varPower.html" class="external-link">varPower</a></span><span class="op">(</span>form <span class="op">=</span> <span class="op">~</span> <span class="va">X</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/AS.format.html">AS.format</a></span><span class="op">(</span><span class="va">fit0</span>, hetero.name <span class="op">=</span> <span class="st">"\u03b4"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]                  [,2]                    [,3]     </span></span>
<span><span class="co">#&gt; [1,] ""                    "β (95%CI)"             "p"      </span></span>
<span><span class="co">#&gt; [2,] "(Intercept)"         "-0.58 (-1.31 to 0.15)" "0.12"   </span></span>
<span><span class="co">#&gt; [3,] "X"                   "1.00 (1.00 to 1.01)"   "&lt; 0.001"</span></span>
<span><span class="co">#&gt; [4,] "Heteroscedasticity:" "θ (95%CI)"             ""       </span></span>
<span><span class="co">#&gt; [5,] "δ"                   "0.53 (0.49 to 0.58)"   ""</span></span>
<span></span>
<span><span class="va">data1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"X"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, each <span class="op">=</span> <span class="fl">250</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1000</span>, mean <span class="op">=</span> <span class="va">data1</span><span class="op">$</span><span class="va">X</span>, sd <span class="op">=</span> <span class="va">data1</span><span class="op">$</span><span class="va">X</span><span class="op">)</span></span>
<span><span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu">nlme</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/nlme/man/gls.html" class="external-link">gls</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">data1</span>, weights <span class="op">=</span> <span class="fu">nlme</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/nlme/man/varIdent.html" class="external-link">varIdent</a></span><span class="op">(</span>form <span class="op">=</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/AS.format.html">AS.format</a></span><span class="op">(</span><span class="va">fit1</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"(Intercept)"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Category "</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span>, hetero.name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Category "</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       [,1]                  [,2]                  [,3]     </span></span>
<span><span class="co">#&gt;  [1,] ""                    "β (95%CI)"           "p"      </span></span>
<span><span class="co">#&gt;  [2,] "(Intercept)"         "1.05 (0.93 to 1.18)" "&lt; 0.001"</span></span>
<span><span class="co">#&gt;  [3,] "Category 2"          "1.07 (0.79 to 1.35)" "&lt; 0.001"</span></span>
<span><span class="co">#&gt;  [4,] "Category 3"          "1.82 (1.45 to 2.19)" "&lt; 0.001"</span></span>
<span><span class="co">#&gt;  [5,] "Category 4"          "2.89 (2.41 to 3.38)" "&lt; 0.001"</span></span>
<span><span class="co">#&gt;  [6,] "Heteroscedasticity:" "θ (95%CI)"           ""       </span></span>
<span><span class="co">#&gt;  [7,] "Category 2"          "2.02 (1.79 to 2.29)" ""       </span></span>
<span><span class="co">#&gt;  [8,] "Category 3"          "2.78 (2.46 to 3.15)" ""       </span></span>
<span><span class="co">#&gt;  [9,] "Category 4"          "3.76 (3.32 to 4.25)" ""</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-linear-mixed-effects-regression">Example: linear mixed-effects regression<a class="anchor" aria-label="anchor" href="#example-linear-mixed-effects-regression"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hongconsulting/AutoScript" class="external-link">AutoScript</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lme4/lme4/" class="external-link">lme4</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/runehaubo/lmerTestR" class="external-link">lmerTest</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://people.math.aau.dk/~sorenh/software/pbkrtest/" class="external-link">pbkrtest</a></span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">lme4</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/lme4/man/sleepstudy.html" class="external-link">sleepstudy</a></span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">lmerTest</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lmerTest/man/lmer.html" class="external-link">lmer</a></span><span class="op">(</span><span class="va">Reaction</span> <span class="op">~</span> <span class="va">Days</span> <span class="op">+</span> <span class="op">(</span><span class="va">Days</span> <span class="op">|</span> <span class="va">Subject</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/AS.format.html">AS.format</a></span><span class="op">(</span><span class="va">fit</span>, digits.fixed <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]          [,2]                     [,3]     </span></span>
<span><span class="co">#&gt; [1,] ""            "β (95%CI)"              "p"      </span></span>
<span><span class="co">#&gt; [2,] "(Intercept)" "251.4 (238.0 to 264.8)" "&lt; 0.001"</span></span>
<span><span class="co">#&gt; [3,] "Days"        "10.5 (7.4 to 13.5)"     "&lt; 0.001"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-logistic-regression">Example: logistic regression<a class="anchor" aria-label="anchor" href="#example-logistic-regression"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hongconsulting/AutoScript" class="external-link">AutoScript</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">survival</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/survival/man/veteran.html" class="external-link">veteran</a></span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">landmark</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">landmark</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">time</span> <span class="op">&lt;=</span> <span class="fl">183</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">status</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">landmark</span><span class="op">[</span><span class="va">data</span><span class="op">$</span><span class="va">time</span> <span class="op">&gt;</span> <span class="fl">183</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">landmark</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">trt</span><span class="op">)</span>, family <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/AS.format.html">AS.format</a></span><span class="op">(</span><span class="va">fit</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"(Intercept)"</span>, <span class="st">"Treatment"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]          [,2]                  [,3]     </span></span>
<span><span class="co">#&gt; [1,] ""            "OR (95%CI)"          "p"      </span></span>
<span><span class="co">#&gt; [2,] "(Intercept)" "0.23 (0.12 to 0.43)" "&lt; 0.001"</span></span>
<span><span class="co">#&gt; [3,] "Treatment"   "1.19 (0.50 to 2.82)" "0.69"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-negative-binomial-regression">Example: negative binomial regression<a class="anchor" aria-label="anchor" href="#example-negative-binomial-regression"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hongconsulting/AutoScript" class="external-link">AutoScript</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/" class="external-link">MASS</a></span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/MASS/man/epil.html" class="external-link">epil</a></span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/MASS/man/glm.nb.html" class="external-link">glm.nb</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">trt</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/AS.format.html">AS.format</a></span><span class="op">(</span><span class="va">fit</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"(Intercept)"</span>, <span class="st">"Treatment"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]          [,2]                   [,3]     </span></span>
<span><span class="co">#&gt; [1,] ""            "IRR (95%CI)"          "p"      </span></span>
<span><span class="co">#&gt; [2,] "(Intercept)" "8.58 (6.99 to 10.53)" "&lt; 0.001"</span></span>
<span><span class="co">#&gt; [3,] "Treatment"   "0.93 (0.70 to 1.23)"  "0.60"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/AS.dispersion.html">AS.dispersion</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.140289</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-poisson-regression">Example: Poisson regression<a class="anchor" aria-label="anchor" href="#example-poisson-regression"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hongconsulting/AutoScript" class="external-link">AutoScript</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/" class="external-link">MASS</a></span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">MASS</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/MASS/man/epil.html" class="external-link">epil</a></span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">trt</span>, family <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/stats/family.html" class="external-link">poisson</a></span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/AS.format.html">AS.format</a></span><span class="op">(</span><span class="va">fit</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"(Intercept)"</span>, <span class="st">"Treatment"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]          [,2]                  [,3]     </span></span>
<span><span class="co">#&gt; [1,] ""            "IRR (95%CI)"         "p"      </span></span>
<span><span class="co">#&gt; [2,] "(Intercept)" "8.58 (8.05 to 9.14)" "&lt; 0.001"</span></span>
<span><span class="co">#&gt; [3,] "Treatment"   "0.93 (0.85 to 1.01)" "0.098"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="reference/AS.dispersion.html">AS.dispersion</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 10.74825</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="id_3-data-cleaning-tools">3. Data cleaning tools<a class="anchor" aria-label="anchor" href="#id_3-data-cleaning-tools"></a>
</h2>
<div class="section level3">
<h3 id="example">Example:<a class="anchor" aria-label="anchor" href="#example"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hongconsulting/AutoScript" class="external-link">AutoScript</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">120</span><span class="op">)</span></span>
<span><span class="va">diagnosis</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/01/00"</span>, <span class="st">"01/01/2000"</span>, <span class="st">"36526"</span>, <span class="st">"36526"</span>, <span class="st">"36526"</span><span class="op">)</span></span>
<span><span class="va">treatment</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"capecitabine"</span>,</span>
<span>                <span class="st">"LETROZOLE"</span>,</span>
<span>                <span class="st">"letrozole, palbociclib"</span>,</span>
<span>                <span class="st">"Letrozole,Ribociclib"</span>,</span>
<span>                <span class="st">"anastrozole, ribociclib"</span><span class="op">)</span></span>
<span><span class="va">progression</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/01/2001"</span>, <span class="st">"."</span>, <span class="st">"01/01/2001"</span>, <span class="st">""</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="va">review1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/07/2001"</span>, <span class="st">"01/07/2001"</span>, <span class="st">"01/07/2001"</span>, <span class="st">"01/07/2001"</span>, <span class="st">"01/07/2001"</span><span class="op">)</span></span>
<span><span class="va">review2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="st">"01/01/2002"</span><span class="op">)</span></span>
<span><span class="va">death</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/01/2002"</span>, <span class="st">"01/01/2002"</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="va">data0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="st">"diagnosis"</span> <span class="op">=</span> <span class="va">diagnosis</span>, <span class="st">"treatment"</span> <span class="op">=</span> <span class="va">treatment</span>, <span class="st">"progression"</span> <span class="op">=</span> <span class="va">progression</span>, <span class="st">"review1"</span> <span class="op">=</span> <span class="va">review1</span>, <span class="st">"review2"</span> <span class="op">=</span> <span class="va">review2</span>, <span class="st">"death"</span> <span class="op">=</span> <span class="va">death</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">data0</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id  diagnosis               treatment progression    review1    review2      death</span></span>
<span><span class="co">#&gt; 1  1   01/01/00            capecitabine  01/01/2001 01/07/2001       &lt;NA&gt; 01/01/2002</span></span>
<span><span class="co">#&gt; 2  2 01/01/2000               LETROZOLE           . 01/07/2001       &lt;NA&gt; 01/01/2002</span></span>
<span><span class="co">#&gt; 3  3      36526  letrozole, palbociclib  01/01/2001 01/07/2001       &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4  4      36526    Letrozole,Ribociclib             01/07/2001       &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5  5      36526 anastrozole, ribociclib        &lt;NA&gt; 01/07/2001 01/01/2002       &lt;NA&gt;</span></span>
<span></span>
<span><span class="co"># delimited strings</span></span>
<span><span class="va">data1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="va">data0</span><span class="op">$</span><span class="va">id</span>, <span class="st">"treatment"</span> <span class="op">=</span> <span class="va">data0</span><span class="op">$</span><span class="va">treatment</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">treatment</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.delim.replace.html">AS.delim.replace</a></span><span class="op">(</span><span class="va">data1</span><span class="op">$</span><span class="va">treatment</span>, <span class="st">"anastrozole"</span>, <span class="st">"ai"</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">treatment</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.delim.replace.html">AS.delim.replace</a></span><span class="op">(</span><span class="va">data1</span><span class="op">$</span><span class="va">treatment</span>, <span class="st">"letrozole"</span>, <span class="st">"ai"</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">treatment</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.delim.replace.html">AS.delim.replace</a></span><span class="op">(</span><span class="va">data1</span><span class="op">$</span><span class="va">treatment</span>, <span class="st">"palbociclib"</span>, <span class="st">"cdk46i"</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">treatment</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.delim.replace.html">AS.delim.replace</a></span><span class="op">(</span><span class="va">data1</span><span class="op">$</span><span class="va">treatment</span>, <span class="st">"ribociclib"</span>, <span class="st">"cdk46i"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Microsoft Excel dates</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">diagnosis</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.dmyY.to.Excel.html">AS.dmyY.to.Excel</a></span><span class="op">(</span><span class="va">data0</span><span class="op">$</span><span class="va">diagnosis</span>, <span class="fl">20</span>, <span class="fl">25</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">progression</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.dmyY.to.Excel.html">AS.dmyY.to.Excel</a></span><span class="op">(</span><span class="va">data0</span><span class="op">$</span><span class="va">progression</span>, <span class="fl">20</span>, <span class="fl">25</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">review1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.dmyY.to.Excel.html">AS.dmyY.to.Excel</a></span><span class="op">(</span><span class="va">data0</span><span class="op">$</span><span class="va">review1</span>, <span class="fl">20</span>, <span class="fl">25</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">review2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.dmyY.to.Excel.html">AS.dmyY.to.Excel</a></span><span class="op">(</span><span class="va">data0</span><span class="op">$</span><span class="va">review2</span>, <span class="fl">20</span>, <span class="fl">25</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">death</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.dmyY.to.Excel.html">AS.dmyY.to.Excel</a></span><span class="op">(</span><span class="va">data0</span><span class="op">$</span><span class="va">death</span>, <span class="fl">20</span>, <span class="fl">25</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># progression-free survival and overall survival</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">PFS</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.rowmin.html">AS.rowmin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">data1</span><span class="op">$</span><span class="va">progression</span>, <span class="va">data1</span><span class="op">$</span><span class="va">death</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">lastreview</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.rowmax.html">AS.rowmax</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">data1</span><span class="op">$</span><span class="va">review1</span>, <span class="va">data1</span><span class="op">$</span><span class="va">review2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">PFSmonths</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.survoutcome.html">AS.survoutcome</a></span><span class="op">(</span><span class="va">data1</span><span class="op">$</span><span class="va">diagnosis</span>, <span class="va">data1</span><span class="op">$</span><span class="va">PFS</span>, <span class="va">data1</span><span class="op">$</span><span class="va">lastreview</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">PFSstatus</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.survoutcome.html">AS.survoutcome</a></span><span class="op">(</span><span class="va">data1</span><span class="op">$</span><span class="va">diagnosis</span>, <span class="va">data1</span><span class="op">$</span><span class="va">PFS</span>, <span class="va">data1</span><span class="op">$</span><span class="va">lastreview</span><span class="op">)</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">OSmonths</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.survoutcome.html">AS.survoutcome</a></span><span class="op">(</span><span class="va">data1</span><span class="op">$</span><span class="va">diagnosis</span>, <span class="va">data1</span><span class="op">$</span><span class="va">death</span>, <span class="va">data1</span><span class="op">$</span><span class="va">lastreview</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">data1</span><span class="op">$</span><span class="va">OSstatus</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/AS.survoutcome.html">AS.survoutcome</a></span><span class="op">(</span><span class="va">data1</span><span class="op">$</span><span class="va">diagnosis</span>, <span class="va">data1</span><span class="op">$</span><span class="va">death</span>, <span class="va">data1</span><span class="op">$</span><span class="va">lastreview</span><span class="op">)</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">data1</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id    treatment diagnosis progression review1 review2 death   PFS lastreview PFSmonths PFSstatus OSmonths OSstatus</span></span>
<span><span class="co">#&gt; 1  1 capecitabine     36526       36892   37073      NA 37257 36892      37073  12.02489         1 24.01692        1</span></span>
<span><span class="co">#&gt; 2  2           ai     36526          NA   37073      NA 37257 37257      37073  24.01692         1 24.01692        1</span></span>
<span><span class="co">#&gt; 3  3   ai, cdk46i     36526       36892   37073      NA    NA 36892      37073  12.02489         1 17.97162        0</span></span>
<span><span class="co">#&gt; 4  4   ai, cdk46i     36526          NA   37073      NA    NA    NA      37073  17.97162         0 17.97162        0</span></span>
<span><span class="co">#&gt; 5  5   ai, cdk46i     36526          NA   37073   37257    NA    NA      37257  24.01692         0 24.01692        0</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="further-reading">Further Reading<a class="anchor" aria-label="anchor" href="#further-reading"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Akaike, H., 1974. A new look at the statistical model identification. <em>IEEE Transactions on Automatic Control</em>, 19(6), pp. 716–723.</li>
<li>Cordeiro, G.M., Paula, G.A. and Botter, D.A., 1994. Improved likelihood ratio tests for dispersion models. <em>International Statistical Review</em>, pp. 257–274.</li>
<li>Fisher, N.I. and Lee, A.J., 1992. Regression models for an angular response. <em>Biometrics</em>, pp. 665–677.</li>
<li>Kenward, M.G. and Roger, J.H., 1997. Small sample inference for fixed effects from restricted maximum likelihood. <em>Biometrics</em>, pp. 983–997.</li>
</ol>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/hongconsulting/AutoScript/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/hongconsulting/AutoScript/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing AutoScript</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Wei Hong <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Wei Hong.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
